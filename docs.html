<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <meta name="description" content="Vault1337 Malware Repository and Analysis Platform Documentation">
    <meta name="keywords" content="vault1337,malware,analysis,repository,github,static analysis, documentation">
    <title>Vault1337 - Documentation</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="custom.css">
    <link rel="shortcut icon" type="image/png" href="Images/favicon.png"/>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background-color: #353E43;">
    <a class="navbar-brand" href="index"><img src="Images/white-logo-no-background.svg" width="200" height="auto" alt="vault"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link"  href="index">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="docs">Documentation</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="screenshots">Screenshots</a>
        </li>
      </ul>
    </div>
</nav>
    
<div class="container-fluid content scrollable">
    <section id="top">
        <center><h1>Try Vault1337 for yourself!</h1></center>
    </section>
    <section id="contents">
        <div class="code container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <h2>Contents</h2>
                    <ul>
                        <li><a href="#tools">Tools available</a></li>
                        <li><a href="#manual-install">Manual Installation</a></li>
                        <li><a href="#install-script">Installation Script</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <br>
    <section id="tools">
        <div class="code container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <h2>Tools</h2>
                    <p>These are the tools that are available in the Vault1337 project</p>
                    <div class="table-responsive">
                        <table class="table table-striped table-sm">
                            <tr>
                                <th>Tool/Subtool</th>
                                <th>Description</th>
                            </tr>
                            <tr>
                                <td>Strings<br>
                                <code>- UTF-8<br></code>
                                <code>- Latin-1<br></code>
                                <code>- UTF-16<br></code>
                                <code>- UTF-32<br></code>
                                <code>- ASCII<br></code>
                                </td>
                                <td>Shows all strings from a sample using different encodings</td>
                            </tr>
                            <tr>
                                <td>
                                    LIEF Parser<br>
                                    <code>- DOS Header<br></code>
                                    <code>- Rich Header<br></code>
                                    <code>- PE Header<br></code>
                                    <code>- Engtrypoint<br></code>
                                    <code>- Sections<br></code>
                                    <code>- Imports<br></code>
                                    <code>- Signature check<br></code>
                                    <code>- Check Entropy<br></code>
                                </td>
                                <td>Utiliese the <a href="https://github.com/lief-project/LIEF" target="_blank">Lief-Project</a></td>
                            </tr>
                            <tr>
                                <td>Hex Viewer</td>
                                <td>Returns a hex view of a sample</td>
                            </tr>
                            <tr>
                                <td>PDF Parser</td>
                                <td>Utilises <a href="https://pypi.org/project/PyMuPDF/" target="_blank">PyMuPDF</a> to extract MetaData, URLs and PDF Content</td>
                            </tr>
                            <tr>
                                <td>
                                    OLE Tools<br>
                                    <code>- OLEID<br></code>
                                    <code>- OLEMETA<br></code>
                                    <code>- OLEDUMP<br></code>
                                    <code>- OLEVBA<br></code>
                                    <code>- RTFOBJ<br></code>
                                    <code>- OLEOBJ<br></code>
                                </td>
                                <td>Utilises <a href="https://github.com/decalage2/oletools" target="_blank">OLE Tools</a> to analyse Microsoft OLE2 samples </td>
                            </tr>
                            <tr>
                                <td>ExifTool</td>
                                <td>Requires <a href="https://exiftool.org/" target="_blank">ExifTool</a> by Phil Harvey to display Exif data</td>
                            </tr>
                            <tr>
                                <td>IOC Extractor (work in progress)</td>
                                <td>This script extracts IOCs from a sample and populates the IOC database, linking to particular samples</td>
                            </tr>
                            <tr>
                                <td>Yara</td>
                                <td>Create, Edit and run Yara rules against samples</td>
                            </tr>
                            <tr>
                                <td>Email Parser<br>
                                <code>- Get Email Headers<br></code>
                                <code>- Get Email body<br></code>
                                <code>- Download Attachments<br></code>
                            </td>
                                <td>Work in progress script to analyse emails and download attachments into the vault for further analysis</td>
                            </tr>
                            <tr>
                                <td>Zip Extractor (work in progress)<br>
                                    <code>- With/Without Password<br></code>
                                </td>
                                <td>Extract .zip and .7z files within the vault</td>
                            </tr>
                        </table>
                    </div>
                    <br>
                    <ul>
                        <li><a href="#top">Back to Top</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <br>
    <section id="manual-install">
        <div class="code container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <h2>Manual Installation</h2>
                    <div class="table-responsive">
                        <table class="table table-striped table-sm">
                            <tr>
                                <th>Step</th>
                                <th>Instruction</th>
                            </tr>
                            <tr>
                                <td>Update your distro</td>
                                <td><code>sudo apt update && sudo apt upgrade -y</code></td>
                            </tr>
                            <tr>
                                <td>Install extra dependancies</td>
                                <td><code>sudo apt install exiftool libmpc-dev git-all -y</code></td>
                            </tr>
                            <tr>
                                <td>Download the vault - Clone the repository and make sure to take ownership of the files</td>
                                <td><code>
                                    cd /var/www (or where ever you want it to live)<br>
                                    git clone https://github.com/DanDreadless/Vault1337/<br>
                                    sudo chown -R your_user:your_user<br>
                                    cd Vault1337/<br>
                                </code></td>
                            </tr>
                            <tr>
                                <td>python venv - Create a python virtual environment and install the requirements</td>
                                <td><code>
                                    python3 -m venv env<br>
                                    source env/bin/activate<br>
                                    pip install -r requirements.txt<br>
                                </code></td>
                            </tr>
                            <tr>
                                <td>Generate a new APP Key - rename the .env.sample to .env and copy your new key inside</td>
                                <td><code>python3 -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'</code></td>
                            </tr>
                            <tr>
                                <td>Initialise database</td>
                                <td><code>
                                    python3 manage.py makemigrations<br>
                                    python3 manage.py migrate<br>
                                </code></td>
                            </tr>
                            <tr>
                                <td>Create SuperUser</td>
                                <td><code>python3 manage.py createsuperuser</code></td>
                            </tr>
                            <tr>
                                <td>Create samples folder - I'll fix this step in the code soon</td>
                                <td><code>
                                    mkdir vault/samples<br>
                                    mkdir vault/yara-rules<br>
                                </code></td>
                            </tr>
                            <tr>
                                <td>You're good to go! Run the app server</td>
                                <td><code>python3 manage.py runserver</code></td>
                            </tr>
                        </table>
                    </div>
                    <br>
                    <ul>
                        <li><a href="#top">Back to Top</a></li>
                    </ul> 
                </div>
            </div>
        </div>
    </section>
    <br>
    <section id="install-script">
        <div class="code container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <h2>Installation Script (Work in Progress)</h2>
                    <div class="table-responsive">
                        <table class="table table-striped table-sm">
                            <tr>
                                <th>Step</th>
                                <th>Instruction</th>
                            </tr>
                            <tr>
                                <td>Update your distro</td>
                                <td><code>sudo apt update && sudo apt upgrade -y</code></td>
                            </tr>
                            <tr>
                                <td>Install extra dependancies</td>
                                <td><code>sudo apt install exiftool libmpc-dev git-all -y</code></td>
                            </tr>
                            <tr>
                                <td>Download the vault - Clone the repository and <br> make sure to take ownership of the files</td>
                                <td><code>
                                    cd /var/www (or where ever you want it to live)<br>
                                    git clone https://github.com/DanDreadless/Vault1337/<br>
                                    sudo chown -R your_user:your_user<br>
                                    cd Vault1337/<br>
                                </code></td>
                            </tr>
                            <tr>
                                <td>Make the install script executable</td>
                                <td><code>chmod +x install.sh</code></td>
                            </tr>
                            <tr>
                                <td>Execute the script </td>
                                <td><code>./install.sh</code></td>
                            </tr>
                            <tr>
                                <td>You're good to go! Run the app server</td>
                                <td><code>python3 manage.py runserver</code></td>
                            </tr>
                        </table>
                    </div>
                    <br>
                    <h4>What does the script do?</h4>
                    <ol type="1">
                        <li>
                            Create Necessary Directories<br>
                            <code>
                                - mkdir -p vault/samples and mkdir -p vault/yara-rules are used to create the required directories.
                            </code>
                        </li>
                        <li>Set Up Python Virtual Environment<br>
                            <code>
                                - python3 -m venv env creates a virtual environment named env.<br>
                                - source env/bin/activate activates the virtual environment.
                            </code>
                        </li>
                        <li>Install Required Python Packages with Error Handling<br>
                            <code>
                                - The pip install -r requirements.txt command is wrapped in an if statement to check if it succeeds.<br>
                                - If the command fails, it prints an error message and exits the script with a non-zero status.
                            </code>
                        </li>
                        <li>Apply Database Migrations with Error Handling<br>
                            <code>
                                - The python3 manage.py makemigrations and python3 manage.py migrate commands are also wrapped in an if statement to ensure they succeed.
                            </code>
                        </li>
                        <li>Prompt User to Create a Superuser with Error Handling<br>
                            <code>
                                - The python3 manage.py createsuperuser command is wrapped in an if statement to ensure it succeeds.
                            </code>
                        </li>
                        <li>Generate and Display Django Secret Key<br>
                            <code>
                                - The script generates a Django secret key using Python and displays it to the user.
                            </code>
                        </li>      
                    </ol>
                    <br>
                    <ul>
                        <li><a href="#top">Back to Top</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
    <footer class="footer">
        <div class="container" align="center">
                <script>                
                    var myElem = document.createElement("p");
                    myElem.innerHTML = 'Vault1337 | Malware Analysis | Copyright &copy; ' + new Date().getFullYear() + ' - <a href="https://github.com/DanDreadless/Vault1337/blob/main/LICENSE">AGPL-3.0</a>';
                    myElem.style.textAlign = "center"; // Center the text horizontally
                    myElem.style.margin = "0 auto";    // Center the element itself horizontally
                    document.body.appendChild(myElem);
                </script>
        </div>
    </footer>
</html>
